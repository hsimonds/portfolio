<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
	<link th:href="@{/css/style.css}" rel="stylesheet" type="text/css"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
    <div th:insert="~{fragments/header :: header}"></div>
    <div th:insert="~{fragments/messaging :: messaging}"></div>
    <div class="form-container">
	    <div class="card mx-auto mt-5 w-100 p-4 custom-shadow">
	        <h2 class="card-title text-center">Edit Developer Profile</h2>
		    <div class="card-body">
				<form id="profile-form" action="#" th:action="@{/profile/{displayName}}" th:object="${profile}" method="post">
					<input type="hidden" th:field="*{user}"/>
					<input type="hidden" th:field="*{id}"/>
					<span class="form-error-text" th:if="${#fields.hasErrors('displayName')}" th:errors="*{displayName}"></span>
					<div class="input-group mb-3">		
				  		<span class="input-group-text">Name</span>
				  		<input type="text" class="form-control" th:field="*{displayName}" id="displayName" placeholder="displayName">
					</div>
					<span class="form-error-text" th:if="${#fields.hasErrors('github')}" th:errors="*{github}"></span>
					<div class="input-group mb-3">
						<span class="input-group-text">Github</span>
				  		<input type="text" class="form-control" th:field="*{github}" id="github" placeholder="name">
					</div>
					<span class="form-error-text" th:if="${#fields.hasErrors('linkedin')}" th:errors="*{linkedin}"></span>					
					<div class="input-group mb-3">
						<span class="input-group-text">Linkedin</span>
				  		<input type="text" class="form-control" th:field="*{linkedin}" id="linkedin" placeholder="name">
					</div>
					<span class="form-error-text" th:if="${#fields.hasErrors('personalWebsite')}" th:errors="*{personalWebsite}"></span>					
					<div class="input-group mb-3">
						<span class="input-group-text">Personal Website</span>
				  		<input type="text" class="form-control" th:field="*{personalWebsite}" id="personalWebsite" placeholder="name">
					</div>
					<span class="form-error-text" th:if="${#fields.hasErrors('otherWebsite')}" th:errors="*{otherWebsite}"></span>					
					<div class="input-group mb-3">
						<span class="input-group-text">Other Website</span>
				  		<input type="text" class="form-control" th:field="*{otherWebsite}" id="otherWebsite" placeholder="name">
					</div>
					<span class="form-error-text" th:if="${#fields.hasErrors('languages')}" th:errors="*{{languages}}"></span>					
					<div class="input-group mb-3">
						<span class="input-group-text">Languages</span>
				  		<input type="text" class="form-control" th:field="*{{languages}}" id="languages" placeholder="name">
					</div>
					<span class="form-error-text" th:if="${#fields.hasErrors('frameworks')}" th:errors="*{{frameworks}}"></span>					
					<div class="input-group mb-3">
						<span class="input-group-text">Frameworks</span>
				  		<input type="text" class="form-control" th:field="*{{frameworks}}" id="frameworks" placeholder="name">
					</div>
					<button type="submit" class="btn btn-custom" >Update Profile</button>	
					<a class= "btn btn-custom" th:href="@{/profile/{displayname}(displayname=${profile.displayName})}">View Public Profile</a>
				</form>
			</div>
		</div>
	</div>
	<h2 class="text-center mt-5">Sample Projects</h2>
	<div th:insert="~{fragments/projects :: projects}"></div>
	<div class="text-center mb-4">
		<a class= "btn btn-custom2" th:href="@{/project}">Add Project</a>
	</div>
</html>